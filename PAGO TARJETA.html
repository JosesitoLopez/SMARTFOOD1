<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Smartfood | Pago con Tarjeta</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    min-height:100vh;
    background:url("https://images.unsplash.com/photo-1504674900247-0877df9cc836") center/cover no-repeat;
    font-family:Arial;
}

.overlay{
    min-height:100vh;
    background:rgba(0,0,0,.6);
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
}

.contenedor{
    background:white;
    max-width:420px;
    width:100%;
    padding:25px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,.4);
}

h2{
    text-align:center;
    margin-top:0;
}

.total{
    text-align:center;
    font-size:18px;
    font-weight:bold;
    margin-bottom:15px;
}

.campo{
    margin-bottom:12px;
}

.campo label{
    font-size:13px;
    font-weight:bold;
}

.campo input{
    width:100%;
    padding:10px;
    border-radius:10px;
    border:1px solid #ccc;
    margin-top:5px;
}

.fila{
    display:flex;
    gap:10px;
}

button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:25px;
    background:#1a73e8;
    color:white;
    font-size:15px;
    cursor:pointer;
    margin-top:15px;
}

.mensaje{
    margin-top:15px;
    font-weight:bold;
    text-align:center;
    color:#2e7d32;
}

/* BOTONES EXTRA (MISMO DISEÑO QUE EFECTIVO) */
.botones{
    display:flex;
    flex-direction:column;
    gap:12px;
    margin-top:20px;
}

.volver{background:#2e7d32;}
.comentarios{background:#f9a825;}
.saber{background:#1a73e8;}
</style>
</head>

<body>

<div class="overlay">
<div class="contenedor">

    <h2>Pago con tarjeta</h2>

    <div class="total">
        Total a pagar: $<span id="total">0</span> MXN
    </div>

    <form onsubmit="procesarPago(event)">
        <div class="campo">
            <label>Número de tarjeta</label>
            <input type="text" maxlength="16" placeholder="1234 5678 9012 3456" required>
        </div>

        <div class="campo">
            <label>Nombre del titular</label>
            <input type="text" placeholder="Como aparece en la tarjeta" required>
        </div>

        <div class="fila">
            <div class="campo">
                <label>Vencimiento</label>
                <input type="text" maxlength="5" placeholder="MM/AA" required>
            </div>

            <div class="campo">
                <label>CVV</label>
                <input type="password" maxlength="3" placeholder="123" required>
            </div>
        </div>

        <button>Pagar ahora</button>
    </form>

    <div class="mensaje" id="mensaje"></div>

    <!-- BOTONES IGUALES AL PAGO EN EFECTIVO -->
    <div class="botones">
        <button class="volver" onclick="volverAPedir()">
            Volver a pedir
        </button>

        <button class="comentarios" onclick="comentarios()">
            Dejar comentarios
        </button>

        <button class="saber" onclick="saberMas()">
            Saber más sobre problemas alimenticios
        </button>
    </div>

</div>
</div>

<script>
const totalSpan = document.getElementById("total");
const mensaje = document.getElementById("mensaje");

/* OBTENER TOTAL */
const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
let total = 0;

carrito.forEach(p=>{
    total += Number(p.precio) * Number(p.cantidad);
});

totalSpan.textContent = total;

/* SIMULAR PAGO */
function procesarPago(e){
    e.preventDefault();
    mensaje.textContent =
        "✅ PAGO APROBADO. GRACIAS POR TU COMPRA";
}

/* REDIRECCIONES */
function volverAPedir(){
    window.location.href = "MENU.html";
}

function comentarios(){
    window.location.href = "COMENTARIOS.html";
}

function saberMas(){
    window.location.href = "PROBLEMAS ALIMENTICIOS.html";
}
</script>

</body>
</html>
